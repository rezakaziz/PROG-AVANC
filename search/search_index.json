{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"\ud83e\udde9 DEV5 \u2013 Programmation avanc\u00e9e","text":"<p>Ce module approfondit les concepts avanc\u00e9s de la programmation orient\u00e9e objet en Java. Il aborde la m\u00e9taprogrammation, la g\u00e9n\u00e9ricit\u00e9, la conception orient\u00e9e objet, les design patterns et l\u2019injection de d\u00e9pendances, afin de concevoir des applications robustes, extensibles et maintenables.</p>"},{"location":"#planning-des-cours-et-tp","title":"\ud83d\udcc5 Planning des cours et TP","text":"S\u00e9ance Cours TP 01 Introspection et annotations Afficheur / Label 02 G\u00e9n\u00e9ricit\u00e9 en Java MaListe 03 Conception orient\u00e9e objet (principes SOLID, refactoring) Logger/Dumper/Demeter 04 Introduction aux  Design Patterns (Patterns de Structure) D\u00e9corateur, Composite 05 Introduction aux  Design Patterns (Patterns de cr\u00e9ation) Prototype/Builder 06 Introduction aux  Design Patterns (Patterns de comportement) Template Method 07 Introduction aux  Design Patterns (Patterns de comportement) Visiteur 08 Inversion de d\u00e9pendances et injection Dependency Injection et Guice 09 Etude de cas Etude de cas 10 \u00c9valuation finale \u2014"},{"location":"cours/","title":"\ud83d\udcd8 Cours","text":"<p>Cette section regroupe l\u2019ensemble des s\u00e9ances de cours et de travaux pratiques. Chaque lien renverra vers la page correspondante lorsque les contenus seront ajout\u00e9s.</p> S\u00e9ance Cours Description 01 Introspection et annotations D\u00e9couverte de la m\u00e9taprogrammation en Java : comment  explorer et manipuler du code via l\u2019introspection et les annotations. 02 G\u00e9n\u00e9ricit\u00e9 D\u00e9couverte de la g\u00e9n\u00e9ricit\u00e9 en Java, le principe de substitution de Liskov, covariance et contravariance 03 La Conception Objet Comprendre comment concevoir des architectures orient\u00e9es objet robustes et \u00e9volutives 04 Introduction aux Design Patterns (Structurels) Compr\u00e9hension des familles de design patterns et de leurs principes fondamentaux. \u00c9tude des patterns structurels \u00e0 travers des exemples concrets des patrons Composite et D\u00e9corateur. 05 Introduction aux Design Patterns (Creation) D\u00e9couverte des patterns de cr\u00e9ation et de leur r\u00f4le dans la gestion de l\u2019instanciation des objets. 06 Introduction aux Design Patterns (Comportement) \u00c9tude des patterns comportementaux et de leurs m\u00e9canismes d\u2019interaction entre objets. Analyse de patrons tels que Strategy, Method Template et Visiteur."},{"location":"tp/tp01/tp01/","title":"M\u00e9taprogrammation en Java","text":"<p>\u2b07\ufe0f T\u00e9l\u00e9charger le TP (tp01.zip)</p> <p>Remarque pr\u00e9liminaire</p> <p>Le but de ce TP n'est pas de vous inciter \u00e0 utiliser des m\u00e9canismes d'introspection Java dans tous vos bouts de code. Vous devez d'abord penser \u00e0 la lisibilit\u00e9 du code.  </p> <p>L'id\u00e9e est de vous faire manipuler un certain nombre de m\u00e9canismes mis en \u0153uvre dans des frameworks comme Spring, afin de comprendre leur fonctionnement interne. </p> <p>En pratique, dans la plupart des cas, les m\u00e9canismes \u00e9tudi\u00e9s ici seront utilis\u00e9s \u00e0 travers des biblioth\u00e8ques d\u00e9j\u00e0 \u00e9crites.</p>"},{"location":"tp/tp01/tp01/#exercice-1","title":"Exercice 1","text":"<p>On veut pouvoir manipuler plus ou moins des objets dont on ne conna\u00eetrait pas la classe \u00e0 l'avance. Pensez \u00e0 des objets qui seraient d\u00e9crits par un fichier texte, ou des objets tir\u00e9s d'une base de donn\u00e9es.</p> <p>Question 1</p> <p>\u00c9tudiez la fonction <code>Afficheur.afficher</code>.</p> <p>Profitez-en pour regarder la classe <code>IntrospectionHelper</code>, elle contient des m\u00e9thodes qui vous seront utiles.</p> <p>Question 2</p> <p>On veut pouvoir cr\u00e9er et initialiser des classes arbitraires (encore une fois, parce que la description des objets viendra par exemple de bases de donn\u00e9es ou de fichiers textes).</p> <p>Dans un premier temps, on suppose que la classe a un constructeur par d\u00e9faut. Compl\u00e9tez la m\u00e9thode <code>creer</code> de la classe <code>Createur</code>. Pour bien comprendre ce qu'elle fait, vous pouvez regarder le test correspondant :</p> <pre><code>    Createur&lt;Adresse&gt; createur = new Createur&lt;&gt;(Adresse.class);\n    Adresse a = createur.creer();\n    assertNotNull(a);\n</code></pre> <p>Question 3</p> <p>On veut pouvoir initialiser maintenant des champs textes de notre objet. Pour cela, compl\u00e9tez la m\u00e9thode <code>setProprieteTexte</code> de la classe <code>Createur</code>.</p> <p>Question 4</p> <p>On veut enfin avoir un peu plus de souplesse : on passe non seulement un couple nom et valeur, mais aussi la classe de la valeur en question (qu'on aura normalement r\u00e9cup\u00e9r\u00e9e aussi par introspection, mais on va s'arr\u00eater l\u00e0).</p> <p>Compl\u00e9tez la m\u00e9thode <code>setChamp</code> de la classe <code>Createur</code>.</p>"},{"location":"tp/tp01/tp01/#exercice-2","title":"Exercice 2","text":"<p>On a cr\u00e9\u00e9 une annotation nomm\u00e9e \"Label\", que l'on peut mettre sur une m\u00e9thode (en fait, sur un getter).</p> <p>Question</p> <p>Compl\u00e9tez la classe <code>Afficheur2</code>, qui fait en gros la m\u00eame chose que <code>Afficheur</code>, mais qui utilise, dans l'affichage, le label li\u00e9 au getter au lieu du nom de la propri\u00e9t\u00e9.</p> <p>Par exemple, avec la configuration actuelle, le test suivant :</p> <pre><code>Personne2 p = new Personne2(\"Alfred\", 1999);\nString expected = \"annee de naissance : 1999 ; nom : Alfred\";\nString actual = new Afficheur2().afficher(p);\nassertEquals(expected, actual);        \n</code></pre> <p>devrait r\u00e9ussir. Le nom dans la classe <code>Personne2</code> n'est pas annot\u00e9 et sera affich\u00e9 en utilisant le nom de propri\u00e9t\u00e9 comme dans le premier exercice. En revanche, le getter d'anneeDeNaissance est annot\u00e9, et la valeur du label devrait \u00eatre utilis\u00e9e.</p> <p>Info</p> <p>Les annotations de ce type sont extr\u00eamement utilis\u00e9es dans les frameworks java professionnels, comme par exemple  Spring, J2EE, Lombok ou Android.</p>"},{"location":"tp/tp01/tp01/#exercice-3-prochaine-seance","title":"Exercice 3 (Prochaine S\u00e9ance)","text":"<p>Cet exercice est hors programme. Je l'ai laiss\u00e9 pour celles et ceux qui voudraient comprendre comment la classe Proxy est utilis\u00e9e.</p> <p>Note</p> <p>Pour cr\u00e9er un site web avec le rapport de test, utiliser la commande en ligne :</p> <pre><code>mvn surefire-report:report\n</code></pre>"},{"location":"tp/tp02/tp02/","title":"TP : G\u00e9n\u00e9ricit\u00e9 en Java","text":"<p>\u2b07\ufe0f T\u00e9l\u00e9charger le TP (tp02.zip)</p> <p>Objectif du TP</p> <p>L\u2019objectif de ce TP est de vous familiariser avec la g\u00e9n\u00e9ricit\u00e9 en Java : - cr\u00e9ation de classes g\u00e9n\u00e9riques, - utilisation des bornes de type, - conception de m\u00e9thodes g\u00e9n\u00e9riques, - et compr\u00e9hension des wildcards (<code>? extends</code>, <code>? super</code>).</p> <p>Ces notions sont \u00e0 la base de la programmation moderne en Java, notamment dans les collections et les frameworks comme Spring ou Hibernate.</p>"},{"location":"tp/tp02/tp02/#exercice-1-classes-generiques","title":"Exercice 1 : Classes g\u00e9n\u00e9riques","text":"<p>Info</p> <p>Le code attendu est test\u00e9 automatiquement via des classes de test. Vous pouvez lancer les tests directement \u2014 certains \u00e9choueront ou ne compileront pas tant que votre code n\u2019est pas complet.</p> <p>Si n\u00e9cessaire, commentez temporairement les parties de test non encore impl\u00e9ment\u00e9es.</p> <p>Question 1</p> <p>On veut cr\u00e9er une classe g\u00e9n\u00e9rique <code>MaListe&lt;T&gt;</code>.</p> <p>Elle doit poss\u00e9der les m\u00e9thodes suivantes (dont les signatures exactes sont \u00e0 d\u00e9terminer) :</p> <ul> <li><code>ajouter</code> : ajoute un \u00e9l\u00e9ment en fin de liste  </li> <li><code>taille</code> : retourne la taille actuelle de la liste  </li> <li><code>element</code> : retourne l\u2019\u00e9l\u00e9ment \u00e0 l\u2019indice <code>i</code> </li> </ul> <p>Votre impl\u00e9mentation doit permettre d\u2019ex\u00e9cuter le code suivant et que les autres tests de la classe <code>TestQ1</code> passent aussi :</p> <pre><code>    MaListe&lt;String&gt; liste1 = new MaListe&lt;&gt;();\n    liste1.ajouter(\"un\");\n    liste1.ajouter(\"deux\");             \n    assertEquals(\"un deux\", liste1.toString());\n</code></pre> <p>\ud83d\udc49 Vous pouvez utiliser un tableau d\u2019Object en interne, et le convertir au bon type au moment de la lecture.</p> <p>\ud83e\udde9 N\u2019oubliez pas d\u2019\u00e9crire une m\u00e9thode <code>toString()</code> pour que le test passe correctement.</p> <p>Question 2</p> <p>On ajoute maintenant une m\u00e9thode suppl\u00e9mentaire \u00e0 <code>MaListe</code> :</p> <ul> <li><code>ajouterListe</code> : ajoute tous les \u00e9l\u00e9ments d\u2019une autre liste du m\u00eame type.</li> </ul> <p>Le code suivant doit fonctionner :</p> <pre><code>MaListe&lt;Integer&gt; liste1 = new MaListe&lt;&gt;();\nMaListe&lt;Integer&gt; liste2 = new MaListe&lt;&gt;();\nliste1.ajouter(1);\nliste1.ajouter(2);\nliste2.ajouter(3);\nliste1.ajouterListe(liste2);\nassertEquals(\"1 2 3\", liste1.toString());\n</code></pre> <p>\ud83d\udca1 V\u00e9rifiez \u00e9galement les autres tests de la classe <code>TestQ2</code>.</p> <p>Question 3</p> <p>On se demande si le code suivant est raisonnable :</p> <pre><code>MaListe&lt;String&gt; liste1 = new MaListe&lt;&gt;();\nliste1.ajouter(\"un\");\nliste1.ajouter(\"deux\");\nMaListe&lt;Object&gt; liste2 = new MaListe&lt;&gt;();\nliste2.ajouter(Integer.valueOf(3));\n\nliste2.ajouterListe(liste1);\nassertEquals(\"3 un deux\", liste2.toString());\n</code></pre> <p>\ud83e\udde0 R\u00e9fl\u00e9chissez : ce code a-t-il du sens ? S\u2019il ne compile pas, modifiez la signature de vos m\u00e9thodes pour qu\u2019il fonctionne sans casser les tests pr\u00e9c\u00e9dents.</p> <p>\ud83d\udc49 Indice : les wildcards (<code>? extends</code> et <code>? super</code>) sont vos amies ici.</p> <p>V\u00e9rifiez avec les tests de <code>TestQ3</code>.</p> <p>Question 4</p> <p>On veut maintenant l\u2019op\u00e9ration inverse : une m\u00e9thode <code>ajouterDansListe</code>, qui ajoute tous les \u00e9l\u00e9ments de la liste courante \u00e0 une autre liste pass\u00e9e en argument.</p> <pre><code>MaListe&lt;String&gt; liste1 = new MaListe&lt;&gt;();\nliste1.ajouter(\"un\");\nliste1.ajouter(\"deux\");\nMaListe&lt;Object&gt; liste2 = new MaListe&lt;&gt;();\nliste2.ajouter(Integer.valueOf(3)); \n\nliste1.ajouterDansListe(liste2);\nassertEquals(\"3 un deux\", liste2.toString());\n</code></pre> <p>\ud83e\udde9 Faites tourner les tests de <code>TestQ4</code> pour v\u00e9rifier votre impl\u00e9mentation.</p>"},{"location":"tp/tp02/tp02/#exercice-2-methodes-generiques","title":"Exercice 2 : M\u00e9thodes g\u00e9n\u00e9riques","text":"<p>On va maintenant travailler sur des m\u00e9thodes g\u00e9n\u00e9riques. Ces m\u00e9thodes peuvent \u00eatre statiques et d\u00e9finies en dehors de la classe <code>MaListe</code>.</p> <p>Question 1</p> <p>On vous demande d\u2019abord d\u2019\u00e9crire la m\u00e9thode <code>MaListeHelper.concat</code> dans la classe <code>MaListeHelper</code>, de sorte que le code suivant compile et fonctionne :</p> <pre><code>MaListe&lt;String&gt; l1 = new MaListe&lt;&gt;();\nl1.ajouter(\"a\");\nMaListe&lt;String&gt; l2 = new MaListe&lt;&gt;();\nl2.ajouter(\"b\");\nMaListe&lt;String&gt; l3 = MaListeHelper.concat(l1, l2);\nassertEquals(\"a b\", l3.toString());\n</code></pre> <p>\ud83d\udcce Les tests correspondants se trouvent dans <code>TestQ4</code>.</p> <p>Question 2</p> <p>On veut pouvoir concat\u00e9ner deux listes de types diff\u00e9rents, \u00e0 condition qu\u2019ils partagent un m\u00eame super-type.</p> <pre><code>MaListe&lt;Integer&gt; l1 = new MaListe&lt;&gt;();\nl1.ajouter(4);\nMaListe&lt;String&gt; l2 = new MaListe&lt;&gt;();\nl2.ajouter(\"b\");\nMaListe&lt;Object&gt; l3 = MaListeHelper.concat(l1, l2);\nassertEquals(\"4 b\", l3.toString());\n</code></pre> <p>Ici, les types de base de <code>l1</code> et <code>l2</code> sont <code>Integer</code> et <code>String</code>. Leur sur-type commun est <code>Object</code>.</p> <p>\ud83d\udd27 Modifiez la m\u00e9thode <code>concat</code> pour que ce test et <code>TestQ5</code> fonctionnent.</p>"},{"location":"tp/tp03/tp03/","title":"TP 03 : Rappels de conception objet","text":"<p>\u2b07\ufe0f T\u00e9l\u00e9charger le TP (tp03.zip)</p> <p>Objectif du TP</p> <p>L\u2019objectif de ce TP est de consolider vos connaissances en programmation orient\u00e9e objet : - r\u00e9duction du couplage entre classes, - respect de la loi de D\u00e9m\u00e9ter, - et mise en pratique de principes de bonne conception logicielle (interfaces, d\u00e9pendances invers\u00e9es, r\u00e9utilisabilit\u00e9).</p> <p>Note</p> <p>Avant de commencer ce TP, vous devez :</p> <ol> <li>Cr\u00e9er un nouveau d\u00e9p\u00f4t GitHub nomm\u00e9 <code>tp03-conception-objet</code>.  </li> <li>Ajouter le compte @rezakaziz comme collaborateur du projet.  </li> <li>Allez dans <code>Settings</code> \u2192 <code>Collaborators</code> \u2192 <code>Add people</code> \u2192 recherchez <code>rezakaziz</code>.</li> <li>Clonez votre d\u00e9p\u00f4t en local et travaillez dessus pour les exercices suivants.  </li> <li>Commitez et poussez r\u00e9guli\u00e8rement vos modifications (<code>git add .</code>, <code>git commit -m \"progression\"</code>, <code>git push</code>).</li> </ol>"},{"location":"tp/tp03/tp03/#exercice-1-suppression-du-couplage","title":"Exercice 1 : Suppression du couplage","text":"<p>Question 1 \u2014 R\u00e9duire le couplage avec un logger</p> <p>Un logiciel de calcul enregistre (ou logge) ses \u00e9tapes pour permettre une v\u00e9rification ult\u00e9rieure. L\u2019impl\u00e9mentation actuelle se trouve dans le package <code>exo1q1v1</code>.</p> <p>Cependant, la classe <code>FileLogger</code> utilis\u00e9e rend les tests unitaires difficiles \u00e0 \u00e9crire et \u00e0 maintenir.</p> <p>\ud83d\udcad Analyse du probl\u00e8me</p> <ul> <li>Les exceptions lanc\u00e9es par le logger sont-elles bien g\u00e9r\u00e9es dans le code actuel ?  </li> <li>Pourquoi cette approche rend-elle le logiciel moins flexible ?</li> </ul> <p>\ud83d\udca1 Travail demand\u00e9</p> <ol> <li>Dans le package <code>exo1q1v2</code>, cr\u00e9ez une interface pour r\u00e9duire le couplage.</li> <li>Fournissez trois impl\u00e9mentations :<ul> <li><code>NullLogger</code> : ne fait rien (utile pour d\u00e9sactiver les logs)  </li> <li><code>MemoryLogger</code> : stocke les messages dans une <code>ArrayList&lt;String&gt;</code> (utile pour les tests)  </li> <li><code>FileLogger</code> : reprend le comportement initial (\u00e9criture dans un fichier)</li> </ul> </li> <li>Modifiez le code du calcul pour qu\u2019il d\u00e9pende de l\u2019interface et non plus d\u2019une classe concr\u00e8te.</li> <li>R\u00e9fl\u00e9chissez : qui doit instancier le logger et pourquoi ?  </li> </ol> <p>Question 2 \u2014 Exportation flexible du catalogue</p> <p>On dispose d\u2019une classe <code>Catalogue</code> repr\u00e9sentant un ensemble de produits. Dans le package <code>exo1q2v1</code>, cette classe peut exporter son contenu au format XML via une classe <code>XMLDumper</code>.</p> <p>Cependant, le couplage entre <code>Catalogue</code> et <code>XMLDumper</code> est trop fort : la classe <code>Catalogue</code> ne devrait pas d\u00e9pendre d\u2019un format sp\u00e9cifique.</p> <p>\ud83d\udcad Probl\u00e8me \u00e0 r\u00e9soudre</p> <ul> <li>Pourquoi le fait que <code>Catalogue</code> appelle directement <code>XMLDumper</code> pose-t-il probl\u00e8me ?  </li> <li>Comment rendre cette architecture extensible pour d\u2019autres formats (JSON, YAML, etc.) ?</li> </ul> <p>\ud83d\udca1 Travail demand\u00e9</p> <ol> <li>Concevez une abstraction qui s\u00e9pare la logique m\u00e9tier (<code>Catalogue</code>) du format d\u2019exportation.  </li> <li>Impl\u00e9mentez au moins deux exporteurs :<ul> <li><code>XMLDumper</code> : exporte en XML (impl\u00e9mentation existante adapt\u00e9e \u00e0 la nouvelle interface)</li> <li><code>JSONDumper</code> : exporte en JSON</li> </ul> </li> <li>(Optionnel, si vous avez le temps) : ajoutez un <code>YAMLExporter</code>    \u2192 Pensez \u00e0 g\u00e9rer la profondeur d\u2019\u00e9criture avec une variable d\u2019instance.</li> <li>Testez votre architecture en v\u00e9rifiant qu\u2019un changement de format ne n\u00e9cessite aucune modification du code de <code>Catalogue</code>.</li> </ol> <p>\ud83d\udcd8 Exemple attendu pour le JSON (indentation facultative) :</p> <pre><code>{\"@type\":\"catalogue\", \n    \"contenu\":[\n        {\"@type\":\"produit\",\n             \"contenu\":[\n                    {\"@type\":\"designation\", \"contenu\":[\"texte\":\"souris\"]},\n                    {\"@type\":\"prix\", \"contenu\":[\"texte\":\"30.0\"]}\n                    ]\n        },\n        {\"@type\":\"produit\",\n             \"contenu\":[\n                    {\"@type\":\"designation\", \"contenu\":[\"texte\":\"ordi\"]},\n                    {\"@type\":\"prix\", \"contenu\":[\"texte\":\"600.0\"]}\n                    ]\n        }\n    ]\n}\n</code></pre>"},{"location":"tp/tp03/tp03/#exercice-2-loi-de-demeter","title":"Exercice 2 : Loi de D\u00e9m\u00e9ter","text":"<p>Question 1 \u2014 Comprendre et appliquer la loi de D\u00e9m\u00e9ter</p> <p>On dispose de l\u2019architecture suivante repr\u00e9sentant une entreprise :</p> <p></p> PlantUML <pre><code>@startuml\nskin rose\nclass Employ\u00e9 {\n    nom\n}\nEntreprise o- D\u00e9partement\nD\u00e9partement o- Service\nService o-- Equipe\nEquipe o--- Employ\u00e9\nEquipe --&gt; Employ\u00e9 : directeur\n@enduml\n</code></pre> <p>Une m\u00e9thode du programme vise \u00e0 retourner la liste des noms des directeurs d\u2019\u00e9quipe.</p> <p>\ud83d\udcad Questions de r\u00e9flexion</p> <ul> <li>Cette m\u00e9thode respecte-t-elle la loi de D\u00e9m\u00e9ter ? </li> <li>Quels sont les sympt\u00f4mes d\u2019une violation de cette loi dans le code actuel ?</li> <li>Que se passerait-il si la hi\u00e9rarchie de classes changeait (ajout d\u2019un niveau, renommage, etc.) ?</li> </ul> <p>\ud83d\udca1 Travail demand\u00e9</p> <ul> <li>Refactorez la m\u00e9thode de mani\u00e8re \u00e0 respecter la loi de D\u00e9m\u00e9ter.  </li> <li>Testez que la m\u00e9thode fonctionne toujours apr\u00e8s la modification.</li> </ul> <p>Question 2 \u2014 G\u00e9n\u00e9raliser la notion de direction</p> <p>On d\u00e9couvre ensuite que toutes les entit\u00e9s (Entreprise, D\u00e9partement, Service, \u00c9quipe) peuvent avoir un directeur.</p> <p>Le mod\u00e8le devient alors :</p> <p></p> PlantUML <pre><code>@startuml\nskin rose\nInterface AvecDirecteur\nAvecDirecteur -&gt; Employ\u00e9 : directeur\nclass Employ\u00e9 {\n    nom\n}\nEntreprise o- D\u00e9partement\nD\u00e9partement o- Service\nService o- Equipe\n\nEntreprise --|&gt; AvecDirecteur\nD\u00e9partement --|&gt; AvecDirecteur\nService --|&gt; AvecDirecteur\nEquipe --|&gt; AvecDirecteur\n@enduml\n</code></pre> <p>\ud83d\udcad R\u00e9flexion</p> <ul> <li>Comment adapter votre solution pr\u00e9c\u00e9dente pour qu\u2019elle fonctionne avec cette nouvelle hi\u00e9rarchie ?  </li> <li>Votre code reste-t-il conforme \u00e0 la loi de D\u00e9m\u00e9ter ?</li> <li>Faut-il introduire une abstraction (interface, m\u00e9thode commune, ou visiteur) pour traiter toutes ces entit\u00e9s de mani\u00e8re uniforme ?</li> </ul> <p>\ud83d\udca1 Travail demand\u00e9</p> <ul> <li>Refactorez votre code pour int\u00e9grer la notion d\u2019<code>AvecDirecteur</code>.</li> </ul>"},{"location":"tp/tp03/tp03/#exercice-3-solid-et-refactorisation","title":"Exercice 3 : SOLID et refactorisation","text":"<p>Question 1 \u2014 Identifier les violations des principes SOLID</p> <p>\ud83d\udcad Travail d\u2019analyse</p> <ul> <li>Parcourez votre code des exercices pr\u00e9c\u00e9dents.  </li> <li>Pour chaque principe SOLID (SRP, OCP, LSP, ISP, DIP), identifiez :<ul> <li>un endroit o\u00f9 le principe est respect\u00e9 ;</li> <li>un endroit o\u00f9 il est viol\u00e9 (m\u00eame l\u00e9g\u00e8rement).  </li> </ul> </li> <li>Justifiez vos r\u00e9ponses.</li> </ul> <p>\ud83d\udca1 Extension possible</p> <ul> <li>Proposez des refactorisation pour corriger les violation identifi\u00e9e.  </li> </ul> <p>Remarque</p> <p>Pour cr\u00e9er un site web avec le rapport de test, utilisez la commande Maven suivante :</p> <pre><code>mvn surefire-report:report\n</code></pre>"},{"location":"tp/tp04/tp04/","title":"TP 04 : Introduction aux Design Patterns","text":"<p>\u2b07\ufe0f T\u00e9l\u00e9charger le TP (tp04.zip)</p> <p>Objectif du TP</p> <p>L\u2019objectif de ce TP est de d\u00e9couvrir et de pratiquer les design patterns structurels \u00e0 travers des exemples simples et concrets. Vous allez ici manipuler deux patterns :</p> <ul> <li>les d\u00e9corateur </li> <li>les composites </li> </ul> <p>\ud83d\udca1 Ce TP met l\u2019accent sur la r\u00e9utilisabilit\u00e9, la composition d\u2019objets et la s\u00e9paration des responsabilit\u00e9s.</p> <p>Instructions pr\u00e9liminaires</p> <p>Avant de commencer ce TP, vous devez :</p> <ol> <li>Cr\u00e9er un nouveau d\u00e9p\u00f4t GitHub nomm\u00e9 <code>tp04-patterns</code>.  </li> <li>Ajouter le compte @rezakaziz comme collaborateur du projet.  </li> <li>Clonez votre d\u00e9p\u00f4t en local et travaillez dessus pour les exercices suivants.  </li> <li>Commitez et poussez r\u00e9guli\u00e8rement vos modifications :    <pre><code>git add .\ngit commit -m \"progression\"\ngit push\n</code></pre></li> </ol> <p>Note</p> <p>Les tests unitaires sont \u00e0 \u00e9crire par l'\u00e9tudiant.</p>"},{"location":"tp/tp04/tp04/#exercice-1-le-pattern-decorateur","title":"Exercice 1 : Le pattern D\u00e9corateur","text":"<p>Contexte</p> <p>Ce premier exercice s\u2019inspire de la biblioth\u00e8que <code>itertools</code> de Python. L\u2019objectif est de travailler sur des s\u00e9quences de cha\u00eenes de caract\u00e8res, en construisant progressivement une hi\u00e9rarchie d\u2019objets qui permettent de d\u00e9corer une s\u00e9quence existante avec des comportements suppl\u00e9mentaires.  </p> <p>On suppose qu\u2019on dispose d\u2019une interface <code>Sequence</code> d\u00e9finissant une m\u00e9thode : <pre><code>String ligneSuivante();\n</code></pre> ainsi qu\u2019une impl\u00e9mentation de base, <code>ArraySequence</code>, qui s\u2019appuie sur un tableau de <code>String</code>.</p> <p>Question 1 \u2014 D\u00e9corateur UpperCase</p> <p>\u00c9crivez et testez une classe <code>UpperCaseDecoratorSequence</code>, qui sera un d\u00e9corateur de <code>Sequence</code>. Elle renverra les cha\u00eenes de caract\u00e8res en majuscules.</p> <p>\ud83d\udca1 Rappel : un d\u00e9corateur doit impl\u00e9menter la m\u00eame interface que l\u2019objet qu\u2019il d\u00e9core, et d\u00e9l\u00e9guer une partie du comportement \u00e0 l\u2019objet d\u00e9cor\u00e9.</p> <p>\u2705 Exemple : <pre><code>Sequence s = new UpperCaseDecoratorSequence(new ArraySequence(lignes));\nSystem.out.println(s.ligneSuivante());\n</code></pre></p> <p>Question 2 \u2014 D\u00e9corateur Grep</p> <p>\u00c9crivez et testez une classe <code>GrepSequence</code>, qui sera un d\u00e9corateur filtrant les lignes d\u2019une autre s\u00e9quence selon un texte donn\u00e9.  </p> <p>Exemple d\u2019utilisation : <pre><code>GrepSequence s = new GrepSequence(autreSequence, \"chemin\");\nString l;\nwhile ((l = s.ligneSuivante()) != null) {\n    System.out.println(l);\n}\n</code></pre></p> <p>affiche uniquement les lignes de <code>autreSequence</code> contenant le mot <code>\"chemin\"</code>.</p> <p>\ud83d\udcad Pistes de r\u00e9flexion - Pourquoi un d\u00e9corateur est-il plus flexible qu\u2019un h\u00e9ritage direct ? - Que se passerait-il si on voulait combiner <code>UpperCaseDecoratorSequence</code> et <code>GrepSequence</code> ?</p> <p>Question 3 \u2014 D\u00e9corateur LineNumber</p> <p>\u00c9crivez et testez une classe <code>LineNumberSequence</code>, qui sera un d\u00e9corateur de <code>Sequence</code> maintenant en m\u00e9moire le num\u00e9ro de la derni\u00e8re ligne lue.  </p> <p>Exemple : <pre><code>LineNumberSequence s = new LineNumberSequence(autreSequence);\nString l;\nwhile ((l = s.ligneSuivante()) != null) {\n    System.out.println(s.getLineNumber() + \": \" + l);\n}\n</code></pre></p> <p>\ud83d\udca1 Id\u00e9e cl\u00e9 : - Vous pouvez stocker le compteur de lignes dans une variable d\u2019instance incr\u00e9ment\u00e9e \u00e0 chaque lecture.</p> <p>Question 4 \u2014 D\u00e9corateur Slice</p> <p>Cr\u00e9ez une classe <code>SliceSequence</code>, qui sera un d\u00e9corateur renvoyant seulement une partie des lignes de la s\u00e9quence d\u2019origine. Le constructeur prendra deux entiers : - <code>start</code> : indice de la premi\u00e8re ligne incluse - <code>end</code> : indice de la premi\u00e8re ligne \u00e0 ignorer.</p> <p>Exemple : <pre><code>SliceSequence s = new SliceSequence(autreSequence, 10, 20);\nString l;\nwhile ((l = s.ligneSuivante()) != null) {\n    System.out.println(l);\n}\n</code></pre> Cet exemple affiche les lignes de 10 (incluse) \u00e0 20 (exclue).</p> <p>\ud83d\udca1 Astuce : R\u00e9utilisez votre impl\u00e9mentation de la <code>LineNumberSequence</code> pour simplifier la gestion des indices !</p> <p>\u00c0 retenir</p> <p>Le pattern D\u00e9corateur permet :</p> <ul> <li>d\u2019ajouter dynamiquement des responsabilit\u00e9s \u00e0 un objet ;</li> <li>de composer des comportements sans explosion de sous-classes ;</li> <li>et de respecter le principe ouvert/ferm\u00e9 (Open/Closed Principle de SOLID*).</li> </ul>"},{"location":"tp/tp04/tp04/#exercice-2-le-pattern-composite","title":"Exercice 2 : Le pattern Composite","text":"<p>Contexte</p> <p>Cet exercice s\u2019appuie sur la repr\u00e9sentation d\u2019un document XML sous forme d\u2019arbre d\u2019objets. Chaque n\u0153ud du document (\u00e9l\u00e9ment, texte, attribut\u2026) est un objet d\u2019une hi\u00e9rarchie commune. Le but est de g\u00e9n\u00e9rer du XML \u00e0 partir de cette structure, selon le pattern Composite.</p> <p>Question 1 \u2014 G\u00e9n\u00e9ration XML</p> <p>On vous fournit une impl\u00e9mentation du composite XML et un exemple montrant comment extraire le texte contenu dans tout le document.</p> <p>Vous devez impl\u00e9menter la m\u00e9thode : <pre><code>String toXML();\n</code></pre> pour les diff\u00e9rentes classes du composite.</p> <p>\ud83d\udca1 R\u00e8gle d\u2019affichage :</p> <ul> <li>Les attributs doivent \u00eatre list\u00e9s par ordre alphab\u00e9tique de leur nom (pour un comportement d\u00e9terministe).</li> <li>Vous pouvez ignorer les diff\u00e9rences entre balises vides <code>&lt;img/&gt;</code> et <code>&lt;img&gt;&lt;/img&gt;</code>.</li> </ul> <p>Question 2 \u2014 R\u00e9flexion sur les patterns utilis\u00e9s</p> <p>\ud83d\udcad Analysez votre code :</p> <ul> <li>Quels avantages concrets vous apportent les patterns D\u00e9corateur et Composite ?  </li> <li>Quels probl\u00e8mes d\u2019\u00e9volution ou de maintenance auraient pu appara\u00eetre sans eux ?  </li> </ul>"},{"location":"tp/tp05/tp05/","title":"TP 05 : Le Design Pattern Builder \u2014 Projet Requ\u00eate HTTP","text":"<p>\u2b07\ufe0f T\u00e9l\u00e9charger le TP (tp05.zip)</p> <p>Objectif du TP</p> <p>L\u2019objectif de ce TP est de d\u00e9couvrir et de pratiquer le design pattern de cr\u00e9ation : le Builder, \u00e0 travers un mini-projet concret : la construction de requ\u00eates HTTP complexes.</p> <p>Vous allez :</p> <ul> <li>construire des requ\u00eates HTTP sans Builder pour constater les limites ;</li> <li>ajouter des r\u00e8gles de coh\u00e9rence rendant la construction difficile ;</li> <li>impl\u00e9menter un HttpRequestBuilder propre, fluide et s\u00e9curis\u00e9 ;</li> <li>comparer les deux approches ;</li> </ul> <p>Instructions pr\u00e9liminaires</p> <p>Avant de commencer ce TP, vous devez :</p> <ol> <li>Cr\u00e9er un nouveau d\u00e9p\u00f4t GitHub nomm\u00e9 <code>tp05-builder-http</code>.  </li> <li>Ajouter le compte @rezakaziz comme collaborateur du projet.  </li> <li>Cloner votre d\u00e9p\u00f4t et travailler dessus localement.  </li> <li>Commiter et pousser r\u00e9guli\u00e8rement vos modifications :    <pre><code>git add .\ngit commit -m \"progression\"\ngit push\n</code></pre></li> </ol> <p>Note</p> <p>Les tests unitaires sont \u00e0 \u00e9crire par l\u2019\u00e9tudiant.</p>"},{"location":"tp/tp05/tp05/#exercice-1","title":"Exercice 1","text":"<p>Contexte</p> <p>Vous devez repr\u00e9senter une requ\u00eate HTTP sous forme d\u2019objet Java. Pour cela, on vous fournit une classe <code>HttpRequest</code> avec un constructeur volontairement tr\u00e8s lourd.</p> <p>Question 1 \u2014 Construire deux requ\u00eates</p> <p>Dans le package <code>exo1.without_builder</code>, Impl\u00e9menter la classe <code>Main1</code> qui construit deux requ\u00eates HTTP en utilisant le constructeur :</p> <ul> <li>une requ\u00eate : <code>GET /users?limit=10</code> </li> <li>une requ\u00eate : <code>POST /login</code> avec un body JSON</li> </ul> <p>Travail demand\u00e9 :</p> <ul> <li>Utiliser le constructeur tel quel, avec tous les param\u00e8tres (Manipuler <code>null</code> si n\u00e9cessaire).  </li> <li>Commentez en quelques lignes la lisibilit\u00e9 de cette approche et les erreurs possible. </li> </ul> <p>Question 2 \u2014 Ajouter des r\u00e8gles de coh\u00e9rence</p> <p>Sans toucher \u00e0 la classe HttpRequest, On veut rajouter les r\u00e8gles suivantes :</p> <ul> <li>Une requ\u00eate GET ne peut jamais avoir de body.  </li> <li>Une requ\u00eate doit obligatoirement avoir un host.  </li> <li><code>keepAlive = true</code> et <code>followRedirects = true</code> sont incompatibles.</li> </ul> <p>Travail demand\u00e9 :</p> <ul> <li>Ajouter ces validations dans <code>Main1</code> ou via une m\u00e9thode auxiliaire.  </li> <li>Expliquer en quelques lignes pourquoi cette approche devient difficile \u00e0 maintenir et \u00e0 \u00e9tendre.</li> </ul> <p>Objectif</p> <p>Nous allons remplacer la construction par un HttpRequestBuilder, permettant de cr\u00e9er une requ\u00eate \u00e9tape par \u00e9tape, de mani\u00e8re fluide, claire et s\u00e9curis\u00e9e.</p> <p>Question 3 \u2014 Impl\u00e9menter <code>HttpRequestBuilder</code></p> <p>Impl\u00e9menter une classe <code>HttpRequestBuilder</code>.</p> <p>Contraintes :</p> <ul> <li><code>host</code> obligatoire  </li> <li>body interdit si <code>method = GET</code> </li> <li><code>keepAlive</code> et <code>followRedirects</code> ne peuvent pas \u00eatre <code>true</code> simultan\u00e9ment  </li> </ul> <p>Tests \u00e0 \u00e9crire :</p> <ul> <li>construction valide  </li> <li>absence de host  </li> <li>body interdit sur GET  </li> <li>combinaison ill\u00e9gale keepAlive/followRedirects  </li> </ul> <p>Question 4 \u2014 R\u00e9\u00e9crire le code client</p> <p>R\u00e9\u00e9crire vos deux requ\u00eates initiales dans une classe <code>Main2</code> :</p> <pre><code>HttpRequest req = new HttpRequestBuilder()\n    .method(...)\n    .url(...)\n    .host(...)\n    .body(...)\n    .timeout(...)\n    .build();\n</code></pre> <p>Travail demand\u00e9 :</p> <ul> <li>Comparer en quelques lignes :  <ul> <li>la lisibilit\u00e9 avant/apr\u00e8s  </li> <li>la facilit\u00e9 d\u2019ajout de nouvelles options  </li> <li>la s\u00e9curit\u00e9 et la coh\u00e9rence des \u00e9tats  </li> </ul> </li> </ul>"},{"location":"tp/tp05/tp05/#exercice-2","title":"Exercice 2","text":"<p>Contexte</p> <p>On dispose de fichiers contenant des informations sur des \u00e9tudiants :</p> <pre><code>num\u00e9ro:nom:pr\u00e9nom:note1:note2:note3:...\n</code></pre> <p>Ainsi que d\u2019une classe <code>LecteurFichierEtudiants</code> fournissant un objet contenant la liste des \u00e9tudiants.</p> <p>Une classe <code>Etudiant</code> (num\u00e9ro, nom, pr\u00e9nom, liste de notes) est fournie. Une interface <code>ListEtudiantBuilder</code> est fournie et une impl\u00e9mentation partielle de cette interface dans <code>ArrayListEtudiantBuilder</code> </p> <p>Question \u2014 D\u00e9boguer <code>ArrayListEtudiantsBuilder</code></p> <p>L\u2019un des tests fournis \u00e9choue.</p> <p>\ud83d\udd27 Travail demand\u00e9 :</p> <ul> <li>Comprendre pourquoi un test \u00e9choue.</li> <li>Corriger le bug dans la classe <code>ArrayListEtudiantsBuilder</code>.</li> </ul> <p>\ud83e\uddea Tests \u00e0 \u00e9crire :</p> <ul> <li>fichier avec 3 \u00e9tudiants ;</li> <li>\u00e9tudiant sans notes ;</li> <li>\u00e9tudiant avec espaces dans le nom ;</li> <li>\u00e9tudiant avec beaucoup de notes.</li> </ul>"},{"location":"tp/tp06/tp06/","title":"TP 05 : Le Design Pattern Template Method","text":"<p>\u2b07\ufe0f T\u00e9l\u00e9charger le TP (tp06.zip)</p> <p>Objectif du TP</p> <p>L\u2019objectif de ce TP est de r\u00e9duire la duplication et de simplifier la structure du code d\u2019acc\u00e8s aux donn\u00e9es (DAO) gr\u00e2ce au design pattern comportemental : Template Method.  </p> <p>Vous allez :</p> <ul> <li>identifier le code r\u00e9p\u00e9titif dans un DAO na\u00eff ;</li> <li>cr\u00e9er une template factorisant ce comportement ;</li> <li>utiliser une version g\u00e9n\u00e9rique permettant le retour de r\u00e9sultats ;</li> <li>d\u00e9couvrir une version avanc\u00e9e du pattern, d\u00e9j\u00e0 impl\u00e9ment\u00e9e pour vous.</li> </ul> <p>Instructions pr\u00e9liminaires</p> <p>Avant de commencer ce TP, vous devez :</p> <ol> <li>Cr\u00e9er un nouveau d\u00e9p\u00f4t GitHub nomm\u00e9 <code>tp05-template-method</code>.  </li> <li>Ajouter le compte @rezakaziz comme collaborateur.  </li> <li>Cloner votre d\u00e9p\u00f4t et travailler dessus :    <pre><code>git add .\ngit commit -m \"progression\"\ngit push\n</code></pre></li> <li>Les tests unitaires doivent continuer \u00e0 passer apr\u00e8s chaque question.</li> </ol> <p>Note</p> <p>Les tests unitaires sont \u00e0 \u00e9crire par l\u2019\u00e9tudiant lorsqu\u2019ils ne sont pas fournis.</p>"},{"location":"tp/tp06/tp06/#exercice-1","title":"Exercice 1 :","text":"<p>Contexte</p> <p>On vous fournit un DAO classique, <code>EtudiantDAO</code>, extr\u00eamement verbeux :</p> <ul> <li>chaque m\u00e9thode ouvre une connexion ;</li> <li>cr\u00e9e un <code>PreparedStatement</code> ;</li> <li>ex\u00e9cute du SQL ;</li> <li>ferme la connexion ;</li> <li>g\u00e8re des exceptions r\u00e9p\u00e9titives...</li> </ul> <p>Si l\u2019on souhaite cr\u00e9er un nouveau DAO ou ajouter un comportement (logging, gestion d\u2019erreur, audit...), il faut dupliquer partout, ce qui augmente le risque de bugs.</p> <p>\u279d Le but est de factoriser le squelette en cr\u00e9ant une classe abstraite selon le pattern Template Method.</p> <p>Question 1 \u2014 Template sans valeur de retour</p> <p>Cr\u00e9ez une classe abstraite fournissant une m\u00e9thode :</p> <pre><code>public final void executer() {\n    ouvrirConnexion();\n    try {\n        executerAvecConnexion(connexion);\n    } finally {\n        fermerConnexion();\n    }\n}\n</code></pre> <p>Et une m\u00e9thode \u00e0 impl\u00e9menter :</p> <pre><code>protected abstract void executerAvecConnexion(Connection c);\n</code></pre> <p>\ud83d\udd27 Travail demand\u00e9 :</p> <ul> <li>Impl\u00e9menter cette template.  </li> <li>Modifier la m\u00e9thode <code>save(Etudiant e)</code> de <code>EtudiantDAO</code> pour utiliser votre template method.  </li> </ul> <p>Contexte</p> <p>On remarque que certaines op\u00e9rations comme <code>findById(int id)</code> doivent renvoyer un r\u00e9sultat. La template pr\u00e9c\u00e9dente ne peut pas \u00eatre utilis\u00e9e telle quelle.</p> <p>Question 2 \u2014 Template g\u00e9n\u00e9rique</p> <p>Modifiez votre template pour qu'elle puisse renvoyer une valeur :</p> <ul> <li>soit en utilisant le type <code>Object</code> ;</li> <li>soit (plus propre) en la rendant g\u00e9n\u00e9rique</li> </ul> <p>Une m\u00e9thode ne renvoyant rien utilisera la classe <code>Void</code>.</p> <p>\ud83d\udd27 Travail demand\u00e9 :</p> <ul> <li>Impl\u00e9menter cette nouvelle version de la template method.  </li> <li>R\u00e9\u00e9crire <code>findById(int id)</code> pour utiliser cette nouvelle template.</li> </ul>"},{"location":"tp/tp06/tp06/#exercice-2","title":"Exercice 2 :","text":"<p>Contexte</p> <p>Le package <code>templateMethod2.template</code> contient une version beaucoup plus avanc\u00e9e du pattern :</p> <ul> <li><code>SQLConnectionTemplate</code> : gestion simple de connexion ;</li> <li><code>SQLStatementTemplate</code> : permet d\u2019ex\u00e9cuter une requ\u00eate sur plusieurs jeux de donn\u00e9es, avec ou sans retour ;</li> <li><code>SQLQueryTemplate</code> : g\u00e8re les <code>SELECT</code> avec extraction d\u2019objet depuis un <code>ResultSet</code> ;</li> <li><code>SQLSimpleHelper</code> : fa\u00e7ade simplifi\u00e9e servant d\u2019API principale.</li> </ul> <p>Ces classes reposent sur le m\u00eame pattern, mais elles encapsulent les d\u00e9tails complexes.</p> <p>Question 3 \u2014 R\u00e9\u00e9criture all\u00e9g\u00e9e de la DAO</p> <p>\ud83d\udd27 Travail demand\u00e9 :</p> <ul> <li>\u00c9tudier bri\u00e8vement les classes ci-dessus :   commencez par <code>SQLConnectionTemplate</code>, puis <code>SQLStatementTemplate</code>, puis <code>SQLQueryTemplate</code>.</li> <li>Utiliser ensuite <code>SQLSimpleHelper</code> pour r\u00e9\u00e9crire une version beaucoup plus simple de <code>EtudiantDAO</code>.</li> </ul> <p>Votre objectif :</p> <ul> <li>r\u00e9duire drastiquement la quantit\u00e9 de code ;</li> <li>garder la m\u00eame logique m\u00e9tier ;</li> <li>faire passer tous les tests existants.</li> </ul>"}]}